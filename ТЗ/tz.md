Система сбора информации о выпускниках и учителях

Основная задача системы - собрать и сопоставить данные выпускников и учителей в школе.

# Основные этапы работы системы:
1) Генерация уникальной ссылки для каждого выпускника (200 человек)
   - Администратор через интерфейс системы указывает ФИО выпускника
   - Система генерирует уникальную ссылку, которую администратор может скопировать и отправить выпускнику любым удобным способом

2) Запрос информации у выпускника о школе и периоде обучения
   - Выпускник заполняет форму с указанием названия школы, периода обучения (с какого по какой класс и годы)
   - ИИ проверяет через поиск в интернете была ли реорганизована школа и уточняет данные по адресу и руководителю

3) Поиск в интернете информации о школе
   - Использование модуля llm_search_school.py для анализа информации о школе
   - Система находит название, адрес, руководителя и информацию о реорганизации

4) Формирование заявки на сбор информации по периоду обучения и школе
   - Система автоматически формирует заявку на основе данных, предоставленных выпускником и найденных ИИ
   - Администратор проверяет и подтверждает заявку

5) Генерация ссылки и QR кода для быстрого сбора информации по заявке
   - Система генерирует две разные ссылки и QR кода: один для школы (для заполнения официальных данных), другой для учителей (для самостоятельного заполнения)

6) Генерация официального письма запроса в школу и направление по реквизитам
   - Система генерирует текст письма в формате Word с возможностью редактирования администратором перед отправкой
   - Письмо содержит информацию о запросе и ссылку/QR-код для заполнения данных

7) Заполнение информации школой
   - Школа заполняет форму на сайте, указывая данные об учителях, работавших в указанный период
   - Школа подгружает подтверждающее письмо в формате PDF

8) Самостоятельное заполнение учителями данных. Для подтверждения прикладывают выписку из пенсионного фонда
   - Учитель заполняет форму с указанием ФИО, школ, периодов преподавания и преподаваемых предметов
   - Учитель загружает выписку из пенсионного фонда для подтверждения

9) Для данных от физических лиц проверка с помощью ИИ документа с перечнем мест работы
   - Учитель загружает PDF с таблицей с указанием мест работы
   - Система выполняет OCR, после передает данные в LLM для анализа
   - ИИ анализирует загруженный документ, извлекает информацию о местах работы и сравнивает с указанными школами, выдает вероятность соответствия

# Особенности:
- У ученика может быть несколько школ. В этом случае нужно предоставить для голосования учителей из нескольких школ
- Выпускник может выбрать неограниченное количество учителей без ранжирования
- Система ранжирует учителей по количеству голосов от выпускников

# Роли пользователей:
1) Администратор
   - Полный доступ ко всем функциям системы
   - Создание ссылок для выпускников
   - Проверка и подтверждение заявок
   - Редактирование писем запросов
   - Просмотр всех данных в системе

2) Выпускник
   - Доступ только к своим данным
   - Заполнение информации о школе и периоде обучения
   - Голосование за учителей

3) Представитель школы
   - Доступ к данным только по своей школе
   - Заполнение информации об учителях

# Безопасность:
- Аутентификация происходит по уникальным ссылкам для каждого типа пользователей (выпускник, школа, учитель)
- Каждая ссылка содержит уникальный идентификатор, который определяет доступ к конкретным данным

# Классы:
1) Выпускник
    1.1) ФИО (Задается при генерации ссылки)
    1.2) Ссылка на опрос по уточнению школы
        1.2.1) Ссылка url
        1.2.2) QR код
    1.3) Школы
        1.3.1) Школа
            1.3.1.1) Наличие провоприемника (реорганизация)
            1.3.1.2) Название
            1.3.1.3) Адрес
            1.3.1.4) Руководитель
        1.3.2) Период обучения
    1.4) Голосование за учителей
        1.4.1) Список выбранных учителей

2) Учитель
    2.1) ФИО
    2.2) Школы
        2.2.1) Школа
            2.2.1.1) Наличие провоприемника (реорганизация)
            2.2.1.2) Название
            2.2.1.3) Адрес
            2.2.1.4) Руководитель
        2.2.2) Период преподавания
        2.2.3) Преподаваемые предметы
    2.3) Документ, подтверждающий место работы (либо письмо от школы, либо выписка с пенсионного фонда по местам работы)
    2.4) Вероятность соответствия (результат проверки ИИ)

3) Заявка
    3.1) Школа
    3.2) Период обучения
    3.3) Сведения для заполнения школой
        3.3.1) Письмо с запросом информации (генерируется по шаблону)
        3.3.2) Ссылка за заполнение заявки
            3.3.2.1) URL
            3.3.2.2) QR код
    3.4) Ссылка для заполнения сведений физическим лицом
        3.4.1) URL
        3.4.2) QR код
    3.5) Статус заявки

# Методы для классов:
1) Выпускник
    1.1) Создание уникальной ссылки
    1.2) Заполнение данных о школе
    1.3) Голосование за учителей

2) Учитель
    2.1) Заполнение данных о местах работы
    2.2) Загрузка подтверждающих документов
    2.3) Проверка данных с помощью ИИ

3) Заявка
    3.1) Формирование заявки на основе данных выпускника
    3.2) Генерация ссылок и QR кодов
    3.3) Генерация письма запроса
    3.4) Обновление статуса

# Архитектура:
1) Фронтэнд - flask, веб интерфейс. Страницы (экраны):
    1.1) Создания запроса (ссылки) для выпускника
    1.2) Заполнения выпускником данных по школе
    1.3) Отображения действующих заявок от выпускников
        - Итоговые данные всех заявок и их статусы
    1.4) Страница заполнения данных для школы
    1.5) Страница заполнения данных для учителя
    1.6) Страница голосования выпускника за учителей

2) Бэкэнд - python
    2.1) Модуль создания ссылок
    2.2) Модуль обработки запроса на подтверждения школы
    2.3) Модуль управления заявками
    2.4) Модуль генерации писем запросов
    2.5) Модуль OCR и анализа документов с помощью ИИ
    2.6) Модуль голосования и ранжирования учителей

3) База данных - SQLite для простоты разработки и развертывания
    3.1) Таблица выпускников
    3.2) Таблица учителей
    3.3) Таблица школ
    3.4) Таблица заявок
    3.5) Таблица голосования

4) Интерфейс пользователя
    4.1) Простой функциональный интерфейс без особых требований к дизайну
    4.2) Адаптивность для мобильных устройств не требуется

5) Тестирование
    5.1) Модульное тестирование основных компонентов системы


# Технологический стек
Приоритет - скорость разработки и простота поддержки
Проект разовый с фиксированным объемом функциональности
Команда имеет опыт работы с Python, но не с веб-фреймворками
Важно быстро запустить минимально работающий продукт (MVP)
Вы планируете использовать Langchain для ИИ-компонентов
Flask является более целесообразным выбором по следующим причинам:
    Более низкая кривая обучения - проще в освоении для команды без опыта веб-разработки
    Минимализм и гибкость - предоставляет только необходимый минимум, что упрощает создание MVP
    Модульность - позволяет добавлять только нужные компоненты
    Хорошая интеграция с Langchain - для реализации ИИ-компонентов
    Постепенное наращивание функциональности - подходит для итеративной разработки
## Рекомендуемые расширения Flask:
    Flask-SQLAlchemy - для работы с базой данных
    Flask-Login - для аутентификации и управления сессиями
    Flask-WTF - для создания и валидации форм
    Flask-Admin - для создания административного интерфейса
    Flask-Mail - для отправки электронных писем
    PyQRCode или qrcode - для генерации QR-кодов